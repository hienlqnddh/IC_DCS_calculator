<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8"><link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>CÔNG CỤ HỖ TRỢ TÍNH TOÁN-CHUYỂN ĐỔI THÔNG SỐ DCS</h1>
    <div id="clock"></div>
    <div class="container">
        <h2>TÍNH TOÁN -CHUYỂN ĐỔI THÔNG SỐ CHO MODULE ANALOG PLC (đo áp)</h2>
        
        <div class="input-group">
            <h3>0-10V: Raw -> Scaling</h3>
            <label>Zero:</label><input type="number" id="zRA">
            <label>Span:</label><input type="number" id="sRA">
            <label>Raw (0-27648):</label><input type="number" id="rawA">
            <button onclick="calcScaleA()">Quy đổi</button>
            <div id="resScaleA" class="result"></div>
        </div>

        <div class="input-group">
            <h3>0-10V: Scaling -> Raw</h3>
            <label>Zero:</label><input type="number" id="zVA">
            <label>Span:</label><input type="number" id="sVA">
            <label>Giá trị Scaling:</label><input type="number" id="valA">
            <button onclick="calcRawA()">Quy đổi</button>
            <div id="resRawA" class="result"></div>
            <div class="tech-note">
                <b>CHÚ THÍCH KỸ THUẬT:</b><br>
                - Module áp Siemens 0-10V tương ứng dải Raw 0 - 27648.<br>
                - Công thức nội suy tuyến tính: $y = \frac{x - x_{min}}{x_{max} - x_{min}} \times (y_{max} - y_{min}) + y_{min}$.
            </div>
        </div>
        <a href="index.html" class="btn-link btn-back">Quay lại trang chính</a>
    </div>
    <script>
        function updateClock() { document.getElementById('clock').innerText = new Date().toLocaleString('vi-VN'); }
        setInterval(updateClock, 1000); updateClock();
        function calcScaleA() {
            let res = (parseFloat(document.getElementById('rawA').value) / 27648) * (parseFloat(document.getElementById('sRA').value) - parseFloat(document.getElementById('zRA').value)) + parseFloat(document.getElementById('zRA').value);
            document.getElementById('resScaleA').innerText = "Scaling: " + res.toFixed(2);
        }
        function calcRawA() {
            let res = (parseFloat(document.getElementById('valA').value) - parseFloat(document.getElementById('zVA').value)) / (parseFloat(document.getElementById('sVA').value) - parseFloat(document.getElementById('zVA').value)) * 27648;
            document.getElementById('resRawA').innerText = "Raw: " + Math.round(res);
        }
    </script>
</body>
</html>
